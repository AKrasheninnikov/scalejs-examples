define("scalejs.grid-kendoui/grid",["scalejs!core","knockout","knockout.mapping","jQuery","kendo.grid"],function(e,t,n,r){function f(a,f,l){function x(e){if(e.action==="itemchange"){var t=e.items[0],n=t[e.field],r=t.viewmodel[e.field];r(n)}}function N(e,t){var n=E(b).firstOrDefault(null,function(e){return e.Value.data===edit});if(u(n,"Key")){var r='tr[data-uid="'+n.Key+'"]',i;return t?i=g.tbody.find(r):i=g.tbody.find(r),i}return null}var c=l(),h=c.kendoGrid,p=h.itemsSource,d=h.editItem,v=h.selectedItem,m=n.toJS,g,y,b,w=!1,E=e.linq.enumerable.from,S=h.batch||!1;h.dataSource={transport:{read:function(e){console.log("--->read"),console.log(e);var t=i(p),n=t.length,r=E(t);if(u(e,"data","sort")&&e.data.sort.length>0){var s=e.data.sort[0],a=function(e){return i(e[s.field])};s.dir==="asc"?r=r.orderBy(a):r=r.orderByDescending(a)}if(u(e,"data","filter","filters")&&e.data.filter.filters.length>0){var f=e.data.filter.filters[0];r=r.where(function(e){var t=i(e[f.field]);switch(f.operator){case"lt":return t<f.value}return!0}).memoizeAll(),n=r.count()}if(u(e,"data","group")&&e.data.group.length>0){var l=e.data.group[0];r=r.orderBy(function(e){return i(e[l.field])}).skip(e.data.skip).take(e.data.take).groupBy(function(e){return i(e[l.field])}).select(function(e){var t={};return t[l.field]={count:10},{aggregates:t,field:l.field,value:e.Key(),items:e.ToArray()}}).toArray(),r={groups:r}}u(r,"toArray")&&(r=r.skip(e.data.skip).take(e.data.take).toArray());var c=m(r);c=E(c).zip(E(r),function(e,t){return o(e,{viewmodel:t})}).toArray(),e.success({items:c,total:n})}},schema:{data:function(e){return e.items},total:function(e){return e.total},groups:"groups"},serverPaging:!0,pageSize:h.pageSize||50,change:x,serverAggregates:!0,serverFiltering:!0,serverGrouping:!1,serverSorting:!0};if(u(h,"toolbar")){var T=r("#"+h.toolbar)[0];u(T)&&(h.toolbar=toolbarHtml)}delete h.itemsSource,delete h.pageSize,g=r(a).kendoGrid(h).data("kendoGrid"),t.computed({read:function(){var e=i(v),t=g.select(e);g.select(t)},disposeWhenNodeIsRemoved:a}),t.computed({read:function(){var e=i(d);setTimeout(function(){var t=E(b).firstOrDefault(null,function(t){return t.Value.data===e});if(u(t,"Key")){var n='tr[data-uid="'+t.Key+'"]',r=g.tbody.find(n);g.editRow(r)}},0)},disposeWhenNodeIsRemoved:a}),y=t.computed({read:function(){items=i(p),setTimeout(function(){g.dataSource.read()},0)},disposeWhenNodeIsRemoved:a}),s(p)||y.dispose()}var i=t.utils.unwrapObservable,s=t.isObservable,o=e.object.merge,u=e.object.has,a=e.type.is;return{init:f}}),define("scalejs.grid-kendoui",["scalejs.grid-kendoui/grid","jQuery","knockout","knockout.mapping"],function(e,t,n){t("head").prepend('<link rel="stylesheet" type="text/css" href="css/kendo.common.min.css"></link>'),t("head").prepend('<link rel="stylesheet" type="text/css" href="css/kendo.default.min.css"></link>'),n.bindingHandlers.kendoGrid=e});