define("scalejs.modernui/panorama/panoramaBindings",[],function(){return{"panorama-title":function(){return{text:this.title}},"panorama-pages":function(){return{foreach:this.pages}},"panorama-page-content":function(){return{render:this.content}},"panorama-page-selectable":function(e){return{click:e.$parent.selectPage}},"panorama-back-button":function(){return{click:this.goBack,visible:this.isBackButtonVisible}}}}),define("scalejs.modernui/panorama/panoramaLayout",["jQuery"],function(e){function i(){e("body").scroll(function(t,n){var r=n*50;return e.browser.webkit?this.scrollLeft-=r:document.documentElement.scrollLeft-=r,!1})}function s(e){var t=161;return e.hasClass("double")?t=322:e.hasClass("triple")?t=483:e.hasClass("quadro")&&(t=644),t}function o(t){var n=0;return t.length===0?-1:(t.each(function(t,r){var i=s(e(r));i>n&&(n=i)}),n)}function u(t){var r=t.find(".tile"),i=o(r,t),u,a,f;if(i===-1)return t.width()+80;t.css({width:"auto",maxWidth:i}),u=t.height();for(a=1;a<r.length&&u>n;a+=1)f=s(e(r[a])),i+=f,t.css({maxWidth:i}),u=t.height();return i+80}function a(){if(!t)return;var r=t.find(".tile-group"),i=0;if(r.length===0)return;n=e(window).height()-e(r.get(0)).offset().top,r.each(function(t,n){var r=e(n),s=u(r);i+=s}),i>0&&t.css("width",120+i+20)}function f(){e(window).on("resize",function(){clearTimeout(r),r=setTimeout(function(){a()},200)})}function l(){i(),f()}function c(){t=e(".tiles"),a()}var t,n,r;return l(),{doLayout:c}}),define("text!scalejs.modernui/panorama/panorama.html",[],function(){return'<div id="sj_panorama_template">\r\n    <div class="panorama page secondary fixed-header">\r\n        <div class="page-header">\r\n            <div class="page-header-content">\r\n                <h4 class="title" data-class="panorama-title"></h4>\r\n                <div class="back-button page-back" data-class="panorama-back-button"></div>\r\n            </div>\r\n        </div>\r\n        <div class="page-region">\r\n            <div class="page-region-content tiles">\r\n                <!-- ko class: panorama-pages -->\r\n                <div class="tile-group tile-drag" style="width: auto"> \r\n                    <h3 class="subtitle" data-class="panorama-title panorama-page-selectable"></h3>\r\n                    <!-- ko class: panorama-page-content -->\r\n                    <!-- /ko -->\r\n                </div>\r\n                <!-- /ko -->\r\n            </div>\r\n        </div>\r\n    </div> \r\n</div>\r\n\r\n<div id="panorama_page_default_template">\r\n    <span data-class="panorama-page-default-content"></span>\r\n</div>\r\n\r\n<div id="panorama_tile_template">\r\n    <div class="tile" data-class="panorama-tile"> \r\n        <!-- ko class: panorama-tile-content -->\r\n        <!-- /ko -->\r\n        <!-- ko class: panorama-tile-brand -->\r\n        <!-- /ko -->\r\n    </div>\r\n</div>\r\n\r\n<div id="panorama_tile_content_template">\r\n    <div class="tile-content" data-class="panorama-tile-content-css panorama-tile-content-html"></div>\r\n</div>\r\n\r\n<div id="panorama_tile_brand_template">\r\n    <div class="tile-content""></div>\r\n</div>\r\n'}),define("scalejs.modernui/panorama/panorama",["scalejs!core","./panoramaBindings","./panoramaLayout","text!./panorama.html","jQuery","knockout","scalejs.mvvm"],function(e,t,n,r,i,s){function a(t){function f(e){r(t.selectedPage)&&t.selectedPage(e)}function l(){setTimeout(n.doLayout,10)}var r=s.isObservable,i=e.object.has,o=e.object.merge,u,a=!1;return a=i(t,"canBack")&&t.canBack,u=o(t,{selectPage:f,isBackButtonVisible:a,doLayout:l}),u}function f(e){return function(){var t=e(),n=a(t);return{name:"sj_panorama_template",data:n,afterRender:n.doLayout}}}function l(e,t,n,r,i){return{controlsDescendantBindings:!0}}function c(e,t,n,r,i){return s.bindingHandlers.template.update(e,f(t),n,r,i)}var o=e.mvvm.registerBindings,u=e.mvvm.registerTemplates;return o(t),u(r),{init:l,update:c}}),define("scalejs.modernui/panorama/tileBindings",["scalejs!core"],function(e){var t=e.object.get,n=e.object.has;return{"panorama-tile":function(){function e(e,t){if(e===2)return"double"+t;if(e===3)return"triple"+t;if(e===4)return"quadro"+t}function t(t){return e(t,"")}function r(t){return e(t,"-vertical")}var i=[t(this.width),r(this.height),this.bgColor?"bg-color-"+this.bgColor:undefined,this.selectionVisible&&n(this,"content","isSelected")&&this.content.isSelected()?"selected":undefined],s=i.filter(function(e){return e}).reduce(function(e,t){return e+" "+t});return{css:s,click:this.selectTile}},"panorama-tile-content":function(e){return{template:{name:t(e,"$data.contentTemplate","sj_panorama_tile_content_default_html_template"),data:e.$data.content}}},"panorama-tile-content-default-html":function(e){return{text:JSON.stringify(e.$data)}},"panorama-tile-brand-css":function(){var e=this.bgColor?"bg-color-"+this.brandBgColor:undefined;return{css:e}},"panorama-tile-brand-icon":function(){return{attr:{src:this.brandIcon}}},"panorama-tile-brand-name":function(){return{text:this.brandName}},"panorama-tile-brand-html":function(){return{html:this.brandHtml}},"panorama-tile-brand-badge":function(){return{html:this.brandBadge}}}}),define("text!scalejs.modernui/panorama/tile.html",[],function(){return'<div id="sj_panorama_tile_template">\r\n    <div class="tile" data-class="panorama-tile"> \r\n        <!-- ko if: $data.content -->\r\n        <div class="tile-content" data-class="panorama-tile-content"></div>\r\n        <!-- /ko -->\r\n        <!-- ko if: $data.showBrand -->\r\n        <div class="brand" data-class="panorama-tile-brand-css">\r\n            <!-- ko if: $data.brandIcon -->\r\n            <img class="icon" src="#" data-class="panorama-tile-brand-icon" />\r\n            <!-- /ko -->\r\n            <!-- ko if: $data.brandName -->\r\n            <span class="name" data-class="panorama-tile-brand-name"></span>\r\n            <!-- /ko -->\r\n            <!-- ko if: $data.brandHtml -->\r\n            <p class="text" data-class="panorama-tile-brand-html"></p>\r\n            <!-- /ko -->\r\n            <!-- ko if: $data.brandBadge -->\r\n            <div class="badge" data-class="panorama-tile-brand-badge"></div>\r\n            <!-- /ko -->\r\n        </div>\r\n        <!-- /ko -->\r\n    </div>\r\n</div>\r\n\r\n<div id="sj_panorama_tile_content_default_html_template">\r\n    <div data-class="panorama-tile-content-default-html"></div>\r\n</div>\r\n\r\n'}),define("scalejs.modernui/panorama/tile",["scalejs!core","./tileBindings","text!./tile.html","jQuery","knockout","scalejs.mvvm"],function(e,t,n,r,i){function u(t){function u(){n(o,"content","isSelected")&&o.content.isSelected(!o.content.isSelected())}var n=e.object.has,r=e.object.merge,s=i.observable,o;return o=r({selectTile:u,isSelected:s(),selectionVisible:!0,width:1,height:1,content:undefined,contentTemplate:undefined,bgColor:undefined,showBrand:!0,brandName:undefined,brandHtml:undefined,brandBadge:undefined,brandBgColor:undefined},t),o}function a(e){return function(){var t=e(),n=u(t);return{name:"sj_panorama_tile_template",data:n}}}function f(e,t,n,r,i){return{controlsDescendantBindings:!0}}function l(e,t,n,r,s){return i.bindingHandlers.template.update(e,a(t),n,r,s)}var s=e.mvvm.registerBindings,o=e.mvvm.registerTemplates;return s(t),o(n),{init:f,update:l}}),define("scalejs.modernui",["scalejs.modernui/panorama/panorama","scalejs.modernui/panorama/tile","knockout","knockout.mapping"],function(e,t,n){n.bindingHandlers.panorama=e,n.bindingHandlers.tile=t,n.virtualElements.allowedBindings.panorama=!0,n.virtualElements.allowedBindings.tile=!0});